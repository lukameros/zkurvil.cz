/* Global UI overlay: user badge + promo + update + premium modal */
#uiUserBadge{
  position:fixed;
  top:1rem;
  left:1rem;
  right:auto;
  z-index:140;
  display:flex;
  align-items:center;
  gap:.6rem;
  padding:.55rem .8rem;
  border-radius:999px;
  border:2px solid #dc2626;
  background:linear-gradient(135deg, rgba(0,0,0,.92), rgba(20,0,0,.92));
  box-shadow:0 8px 28px rgba(220,38,38,.25);
  color:#fca5a5;
  font-family:Arial,sans-serif;
  backdrop-filter:blur(4px);
}
#uiUserBadge .ui-avatar{
  width:34px;height:34px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  background:linear-gradient(135deg,#7f1d1d,#991b1b);
  border:2px solid #dc2626;color:#fff;font-size:1.1rem;
  box-shadow:0 0 16px rgba(220,38,38,.35);
  flex:0 0 auto;
}
#uiUserBadge .ui-meta{line-height:1.05}
#uiUserBadge .ui-meta small{display:block;color:#fca5a5;opacity:.85}
#uiUserBadge .ui-meta .name{color:#fbbf24;font-weight:bold;max-width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

.ui-panel{
  position:fixed;
  z-index:130;
  background:linear-gradient(135deg,rgba(0,0,0,.92),rgba(20,0,0,.92));
  border:2px solid #991b1b;
  border-radius:1rem;
  box-shadow:0 8px 28px rgba(220,38,38,.25);
  backdrop-filter:blur(4px);
  padding:1rem;
  max-width:360px;
  color:#fca5a5;
  font-family:Arial,sans-serif;
}
.ui-panel h3{margin:0 0 .6rem 0;font-size:1rem;color:#fbbf24;letter-spacing:.6px}
.ui-update{top:4.7rem;right:1rem}

.ui-table{width:100%;border-collapse:collapse;font-size:.86rem}
.ui-table td{padding:.35rem .2rem;border-bottom:1px solid rgba(153,27,27,.55);vertical-align:top}
.ui-table td:first-child{color:#fbbf24;white-space:nowrap;padding-right:.6rem}

/* Promo button bottom-left */
#uiPromoBtn{
  position:fixed;
  left:1rem;
  bottom:1rem;
  z-index:140;
  border-radius:1.05rem;
  border:2px solid #fbbf24;
  background:linear-gradient(135deg, rgba(127,29,29,.95), rgba(0,0,0,.90));
  color:#fde68a;
  font-family:Arial,sans-serif;
  font-weight:900;
  letter-spacing:.4px;
  padding:.9rem 1.15rem;
  cursor:pointer;
  box-shadow:0 10px 30px rgba(220,38,38,.25);
  transition:transform .12s ease, filter .12s ease;
}
#uiPromoBtn:hover{transform:translateY(-2px);filter:brightness(1.05)}
#uiPromoBtn:active{transform:translateY(0px) scale(.99)}
#uiPromoBtn .sub{
  display:block;
  font-weight:700;
  opacity:.95;
  margin-top:.15rem;
  color:#d1fae5;
  font-size:.82rem;
}
#uiPromoBtn.ui-pulse{
  animation: uiPulse 1.1s infinite, uiPop 2.8s infinite;
}
@keyframes uiPop{
  0%,100%{transform:translateY(0) scale(1)}
  50%{transform:translateY(-1px) scale(1.03)}
}
@keyframes uiPulse{
  0%{box-shadow:0 0 0 rgba(16,185,129,.0), 0 10px 30px rgba(16,185,129,.18)}
  50%{box-shadow:0 0 22px rgba(16,185,129,.35), 0 14px 36px rgba(16,185,129,.22)}
  100%{box-shadow:0 0 0 rgba(16,185,129,.0), 0 10px 30px rgba(16,185,129,.18)}
}

/* Premium modal (global) */
#uiPremiumModal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.95);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2000;
}
#uiPremiumModal.show{display:flex}
#uiPremiumModal .modal-content{
  background:linear-gradient(135deg, rgba(0,0,0,0.95), rgba(20,0,0,0.95));
  border:2px solid #dc2626;
  border-radius:1rem;
  padding:2rem;
  max-width:560px;
  width:min(560px, calc(100vw - 2.5rem));
  margin:1.25rem;
  box-shadow:0 18px 60px rgba(220,38,38,.25);
}
#uiPremiumModal .premium-card{
  background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.05));
  border: 2px solid #fbbf24;
  border-radius: 1rem;
  padding: 1.5rem;
  margin-bottom: 1rem;
}
#uiPremiumModal .premium-title{font-size:1.5rem;font-weight:bold;color:#fbbf24;margin-bottom:1rem}
#uiPremiumModal .premium-price{font-size:2rem;color:#10b981;font-weight:bold;margin:1rem 0}
#uiPremiumModal .premium-features{color:#f87171;margin:1rem 0}
#uiPremiumModal .premium-features li{margin:.5rem 0}
#uiPremiumModal .modal-actions{display:flex;gap:1rem;margin-top:.8rem}
#uiPremiumModal .btn-wide{width:100%}

@media (max-width: 820px){
  .ui-update{display:none}
  #uiUserBadge .ui-meta .name{max-width:110px}
}
@media (max-width: 520px){
  #uiPromoBtn{left:.7rem;bottom:.7rem;padding:.7rem .9rem}
}
